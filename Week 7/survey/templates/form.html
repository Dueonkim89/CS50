{% extends "layout.html" %} {% block main %}

<!-- http://getbootstrap.com/docs/4.1/content/typography/ -->
<h1 class="mb-3">Form</h1>

<!-- http://getbootstrap.com/docs/4.1/components/forms/ -->
<form action="/form" method="post">
  <div class="form-group">
    <input
      autocomplete="off"
      autofocus
      class="form-control"
      name="name"
      placeholder="Name"
      type="text"
    />
  </div>

  <div class="form-group">
    <select class="form-control" name="house">
      <option disabled selected value="">House</option>
      <option value="Gryffindor">Gryffindor</option>
      <option value="Hufflepuff">Hufflepuff</option>
      <option value="Ravenclaw">Ravenclaw</option>
      <option value="Slytherin">Slytherin</option>
    </select>
  </div>

  <div class="form-group">
    <div class="form-check">
      <input
        class="form-check-input"
        id="Beater"
        name="position"
        type="radio"
        value="Beater"
      />
      <label class="form-check-label" for="Beater"> Beater </label>
    </div>

    <div class="form-check">
      <input
        class="form-check-input"
        id="Chaser"
        name="position"
        type="radio"
        value="Chaser"
      />
      <label class="form-check-label" for="Chaser"> Chaser </label>
    </div>

    <div class="form-check">
      <input
        class="form-check-input"
        id="Keeper"
        name="position"
        type="radio"
        value="Keeper"
      />
      <label class="form-check-label" for="Keeper"> Keeper </label>
    </div>

    <div class="form-check">
      <input
        class="form-check-input"
        id="Seeker"
        name="position"
        type="radio"
        value="Seeker"
      />
      <label class="form-check-label" for="Seeker"> Seeker </label>
    </div>
  </div>
  <!-- http://getbootstrap.com/docs/4.1/components/buttons/ -->
  <button class="btn btn-primary" type="submit">Submit</button>
</form>

<script>
    let submitButton = document.querySelector('.btn-primary');
    // create callback for onClick event
    submitButton.onclick = function(){
        // dom elements to validate
        let inputFields = document.querySelectorAll('.form-control');
        let radioButtons = document.querySelectorAll('.form-check-input');
        // check if name is empty
        if (!inputFields[0].value) {
            alert('You must specify your name!');
            return false;
        } 
        // check if value is empty
        if (!inputFields[1].value) {
            alert('You must specify your house!');
            return false;
        }  
        // check if any of the radio button was selected
        let arr = Array.from(radioButtons);
        let arr2 = arr.map(x => x.checked);
        if (arr2.indexOf(true) === -1) {
             alert('You must specify your position!');
            return false;           
        }
    };
</script>

{% endblock %}
